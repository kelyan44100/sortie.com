{% extends 'base.html.twig' %}

{% block title %}Hello CreationSortieController!{% endblock %}

{% block body %}
    <h2>Création une Sortie</h2>
    {% form_theme formSortie 'bootstrap_4_layout.html.twig' %}
    {{ form_start(formSortie) }}
    <div class="container">
        <div class="row">
            <div class="col-sm-5">
                {{ form_label(formSortie.nom) }}
                {{ form_widget(formSortie.nom) }}
            </div>

            <div class="col-sm-5 offset-2">

                <label for="site" >Ville de rattachement</label>
                <input type="text" value="{{ app.user.site}}"  id="site" class="form-control" readonly>

            </div>

            <div class="col-sm-5">
                {{ form_label(formSortie.datedebut) }}
                {{ form_widget(formSortie.datedebut) }}
            </div>

            <div class="col-sm-5 offset-2">
                <label>Ville :</label>
                <select class="custom-select">
                    {% for ville in villes %}
                        <option value="{{ ville.id }}">{{ ville.nomVille }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="col-sm-5">
                {{ form_label(formSortie.datecloture) }}
                {{ form_widget(formSortie.datecloture) }}
            </div>
            <div class="col-sm-5 offset-2">
                <p>Rue :</p>
                <select class="custom-select">
                    {% for lieu in lieux %}
                        <option value="{{ lieu.rue }}">{{ lieu.rue }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="col-sm-5">
                {{ form_label(formSortie.nbinscription) }}
                {{ form_widget(formSortie.nbinscription) }}
            </div>
            <div class="col-sm-5 offset-2">
                <p>Code Postal :</p>
            </div>
            <div class="col-sm-5">
                {{ form_label(formSortie.duree) }}
                {{ form_widget(formSortie.duree) }}
            </div>
            <div class="col-sm-5 offset-2">
                <p>Code Postal :</p>
            </div>
            <div class="col-sm-5">
                {{ form_label(formSortie.description) }}
                {{ form_widget(formSortie.description) }}
            </div>
            <div class="col-sm-5 offset-2">
                <p>Latitude</p>
            </div>
            <div class="col-sm-5">
            {{ form_label(formSortie.lieu) }} :
            {{ form_widget(formSortie.lieu) }}
            </div>
            <div class="col-sm-5 offset-2">
                <p>Longitude</p>
            </div>
        </div>
    </div>

    <div class="text-center">
        <input type="submit" value="Créer" class="btn btn-dark"/>
        <input type="submit" value="Annuler" class="btn btn-dark"/>
    </div>
    {{ form_end(formSortie) }}



    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js">
    </script>
    <script type="text/javascript">
        $(document).ready(function()
        {
            $(".country").change(function()
            {
                var country_id=$(this).val();
                var post_id = 'id='+ country_id;

                $.ajax
                ({
                    type: "POST",
                    url: "ajax.php",
                    data: post_id,
                    cache: false,
                    success: function(cities)
                    {
                        $(".city").html(cities);
                    }
                });

            });
        });
    </script>



{% endblock %}
